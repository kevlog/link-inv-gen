<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Undangan Link Generator</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
    <style>
      #particles-js {
        position: fixed;
        width: 100%;
        height: 100%;
        z-index: -1;
        top: 0;
        left: 0;
      }
    </style>
  </head>
  <body
    class="bg-gray-900 text-white min-h-screen flex items-center justify-center relative"
  >
    <!-- Background Particles -->
    <div id="particles-js"></div>

    <!-- Container -->
    <div
      class="bg-white bg-opacity-10 backdrop-blur-sm rounded-2xl shadow-xl p-8 w-full max-w-md"
      data-aos="fade-up"
    >
      <h2 class="text-2xl font-bold mb-6 text-center text-white">
        ðŸŽ‰ Generator Link Undangan
      </h2>

      <!-- Basic URL -->
      <label class="block mb-2 font-medium">Basic URL</label>
      <input
        type="text"
        id="basicUrl"
        placeholder="contoh: hikvn.my.id/inv/kebun"
        class="w-full px-4 py-2 rounded bg-white bg-opacity-20 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-pink-400"
      />

      <!-- Separator -->
      <label class="block mt-4 mb-2 font-medium">Separator</label>
      <select
        id="separator"
        onchange="handleSeparatorChange()"
        class="w-full px-4 py-2 rounded bg-white bg-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-pink-400"
      >
        <option value="?to=">?to=</option>
        <option value="?ke=">?ke=</option>
        <option value="?guest=">?guest=</option>
        <option value="?nama=">?nama=</option>
        <option value="custom">ðŸ”§ Lainnya / Custom...</option>
      </select>

      <!-- Custom Separator -->
      <input
        type="text"
        id="customSeparator"
        class="hidden mt-2 w-full px-4 py-2 rounded bg-white bg-opacity-20 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-pink-400"
        placeholder="Isi separator custom, contoh: ?undangan="
      />

      <!-- Nama Tamu -->
      <label class="block mt-4 mb-2 font-medium">Nama Tamu</label>
      <input
        type="text"
        id="guestName"
        placeholder="contoh: kevin"
        class="w-full px-4 py-2 rounded bg-white bg-opacity-20 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-pink-400"
      />

      <!-- Tombol Generate -->
      <button
        onclick="generateLink()"
        class="mt-6 w-full py-2 px-4 bg-pink-500 hover:bg-pink-600 rounded font-semibold transition duration-200"
      >
        Generate Link
      </button>

      <!-- Output -->
      <div class="mt-6 text-sm break-words text-white" id="output"></div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <script>
      AOS.init();
      function handleSeparatorChange() {
        const sep = document.getElementById("separator").value;
        const customInput = document.getElementById("customSeparator");
        customInput.classList.toggle("hidden", sep !== "custom");
      }

      function generateLink() {
        let base = document.getElementById("basicUrl").value.trim();
        const separatorSelect = document.getElementById("separator").value;
        const customSeparator = document
          .getElementById("customSeparator")
          .value.trim();
        const name = document.getElementById("guestName").value.trim();

        const sep =
          separatorSelect === "custom"
            ? "/?" + customSeparator + "="
            : separatorSelect;

        if (!/^https?:\/\//i.test(base)) {
          base = "https://" + base;
        }

        if (!base || !sep || !name) {
          document.getElementById("output").innerHTML =
            "<b class='text-red-400'>Mohon isi semua kolom.</b>";
          return;
        }

        const finalUrl = `${base}${sep}${encodeURIComponent(name)}`;
        document.getElementById("output").innerHTML = `
        <p class="mb-1 font-medium text-pink-300">Link Undangan:</p>
        <a href="${finalUrl}" target="_blank" class="underline text-blue-300 hover:text-blue-400">${finalUrl}</a>
      `;
      }
    </script>

    <!-- Particles.js -->
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script>
      particlesJS("particles-js", {
        particles: {
          number: { value: 60, density: { enable: true, value_area: 800 } },
          color: { value: "#ffffff" },
          shape: { type: "circle" },
          opacity: { value: 0.5 },
          size: { value: 3 },
          line_linked: {
            enable: true,
            distance: 150,
            color: "#ffffff",
            opacity: 0.4,
            width: 1,
          },
          move: { enable: true, speed: 2 },
        },
        interactivity: {
          detect_on: "canvas",
          events: { onhover: { enable: true, mode: "repulse" } },
          modes: { repulse: { distance: 100 } },
        },
        retina_detect: true,
      });
    </script>
  </body>
</html>
